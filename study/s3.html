<!--
 * @Description: 
 * @Author: ssssslf
 * @Date: 2020-07-28 19:42:25
 * @LastEditTime: 2020-07-28 19:48:47
 * @LastEditors: ssssslf
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Update、Enter</title>
    <script type="text/javascript" src="http://d3js.org/d3.v5.min.js"></script>
  </head>
  <body>
    <p>dog</p>
    <p>cat</p>
    <p>pig</p>
    <script>
      // 数据数量大于插入位置数据
      const dataset = [3, 6, 9, 12, 15];
      const p = d3.select("body").selectAll("p");
      const update = p.data(dataset); //绑定数据,并得到update部分
      const enter = update.enter(); //得到enter部分

      //下面检验是否真的得到
      //对于update的处理
      update.text((d, i) => "update: " + d + ",index: " + i);

      //对于enter的处理
      //注意，这里需要先添加足够多的<p>，然后在添加文本
      const pEnter = enter.append("p"); //添加足够多的<p>
      pEnter.text((d, i) => "enter: " + d + ",index: " + i);
    </script>
  </body>
</html>
